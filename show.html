<!DOCTYPE html>
<html>
<head>
	<title>TagMap show</title>

        <meta charset="UTF-8">
	<link rel="stylesheet" href="libs/leaflet.css" />
	<!--[if lte IE 8]><link rel="stylesheet" href="libs/leaflet.ie.css" /><![endif]-->
	<link rel="stylesheet" href="leaflet.draw.css" />
	<!--[if lte IE 8]><link rel="stylesheet" href="leaflet.draw.ie.css" /><![endif]-->

	<script src="libs/leaflet-src.js"></script>
        <script src="http://code.jquery.com/jquery-1.10.0.js"></script>
</head>
<body>

    <table width="100%"> 
        <tr>
            <td>
                <div id="divs">
                     <button id="display">Søg</button> 
                     <button id="clear">Rens kort</button>
                 </div>
            </td>
        </tr>
        <tr>
            <td>
                <div id="map" style="height: 500px; border: 1px solid #ccc"></div>
                <div id="info" style="width: 500px; height: 500px; border: 1px solid #ccc">
                </div>
            </td>
        </tr>
    </table>

    <script src="TagMap.js"></script>
    <script type="text/javascript">
    
    var tagmap = new TagMap({
        api: "api.php", //PolleAPI
        content: "content_da",
        mapDiv: 'map',
        infoDiv: 'info',
        tagSelectorDiv: 'divs',
        baseMaps: {
           /* "Historisk atlas": new L.TileLayer('http://tile.historiskatlas.dk/54/{z}/{x}/{y}.jpg'),
            "OSM": new L.TileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png'),*/
            "København 2013": new L.TileLayer('http://{s}.tile.cloudmade.com/BC9A493B41014CAABB98F0471D759707/997/256/{z}/{x}/{y}.png',{zIndex: 0})
        },
        overlayMaps: {
            "København 1940": new L.TileLayer('http://195.181.144.34/kortdata/{z}/{x}/{y}.png',{ tms:true, zIndex:1 })                 
        },
        tagConfig : [
        {
            name: "default",
            style: {
                radius: 8,
                fillColor: "#ffcc47",
                color: "#ff0000",
                weight: 5,
                opacity: 1,
                fillOpacity: 0.8
                }
        },
        {
            name: "jøde",
            style: {
                radius: 8,
                fillColor: "green",
                color: "green",
                weight: 5,
                opacity: 1,
                fillOpacity: 0.8
                }
        },
        {
            name: "hjælper",
            style: {
                radius: 8,
                fillColor: "blue",
                color: "blue",
                weight: 5,
                opacity: 1,
                fillOpacity: 0.8
                }
        },        
        {
            name: "socialtjeneste",
            style: {
                radius: 8,
                fillColor: "yellow",
                color: "yellow",
                weight: 5,
                opacity: 1,
                fillOpacity: 0.8
                }
        },           
      ],
       lat: 55.67899,
       lng: 12.57522,
       zoom: 12
    });
    
    tagmap.createTagSelector();
    
    $('#display').on('click', function () {
        tagmap.show( $('#tagsQuery').val() );
    });
    $('#clear').on('click', function () { tagmap.clear(); });
    </script>
</body>
</html>
